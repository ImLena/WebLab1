<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ходосова Елена Владимирона, группа Р3230, вариант 2627</title>
    <link rel="stylesheet" type="text/css" href="structure.css">
</head><!--
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>-->
<body>
<script src="jquery-3.5.1.js"></script>
<script>
    function check() {
        return true;
    }
    const submit = function(event) {
        if (!(checkR() && checkY() && checkX())) return
        e.preventDefault()
        event.preventDefault();
        //if (check()){
        var rates = document.getElementsByName('x-val');
        var x = null;
        for(var i = 0; i < 9; i++){
            if(rates[i].checked){
                x = rates[i].value;
            }
        }if (x == null){
            alert("choose x one value");
            // ВЫВЕСТИ ОШИБКУ
        }
        var boxes = document.getElementsByName('r-val');
        var r = null;
        for(var i = 0; i < 5; i++){
            if(boxes[i].checked){
                r = boxes[i].value;
            }

        } if (r == null){
            alert("choose r one value");
            // ВЫВЕСТИ ОШИБКУ
        }
        var y = document.getElementById('y-value');

        // TIME

        let time = 1;
        let scr_time = 2;
        const data = new FormData(document.querySelector('#send_form'));
        fetch('/Function.php', {
            method: 'POST',
            body: formData,
        })
            .then(res => res.text())
            .then(table => document.querySelector('#res').innerHTML=table);


 /*
            request
                .post('/Function.php')
                .send(data)
                .then(res => res.text())
                .then(table => document.querySelector('#res').innerHTML=table)
*/             //   .then(tr = "<tr>" + "\n" + "<td>" + x + "</td>" + "<td>" + y + "</td>" + "<td>" + r + "</td>" + "<td>" + res + "</td>"
               //     + "<td>" + res + "</td>" + "<td>" + scr_time + "</td>" + "<td>" + time + "</td>")
                //.then(table.innerHTML = tr); //superAgent

        //}
    }
    document.addEventListener('DOMContentLoaded', function(){
        document.querySelector('#sendButton').addEventListener('click', submit);
    });
</script>
<div class="header">
    <header class="title">
        <span>Вариант 2627</span>
        <span class="name-group">Елена Ходосова, P3230</span>
    </header>
</div>
<!--<div class="table" id="table">
    <div class="table-header" style="overflow-x: auto">
    <span>X</span>
    <span>Y</span>
    <span>R</span>
    <span>Script time</span>
    <span>Time</span>
</div>
<div class="table">-->
<div class="table" id="res" style="">
    <table class="table-header" style="overflow-x: auto">
        <tr>
        <th><a id="x-table">X</a></th>
        <th><a id="y-table" >Y</a></th>
        <th><a id="r-table" >R</a></th>
        <th><a id="result-table" >Result</a></th>
        <th><a id="time-table">Script Time</a></th>
        <th><a id="cr-time-table" >Time</a></th>
        </tr>
    </table>
</div>
 <!--   <?php foreach ($_SESSION['history'] as $value) { ?>
    <div class="table-content">
        <table class="table-row">
            <tr>
            <th class="table-data"><?php echo $value[0] ?></th>
            <th class="table-data"><?php echo $value[1] ?></th>
            <th class="table-data"><?php echo $value[2] ?></th>
            <th class="table-data"><?php echo $value[3] ?></th>
            <th class="table-data"><?php echo $value[4] ?></th>
            <th class="table-data"><?php echo number_format($value[5], 10, ".", "")*1000000 ?></th>
            </tr>
        </table>
    </div>
    <?php }?>
</div>-->
<br>
<form class="send_form" id="send_form" oninput="onInputChanges()">
 <div class="input_values">
    <div class="group">
        <input type="text" id="y-value" name="y_val" required>
        <span class="highlight"></span>
        <span class="bar"></span>
        <label>Y Value</label>
    </div>
     <br>
     <div class="r-title">
         <label>R Value</label>
     </div>
     <div class="r-vals">
         <input type="checkbox" id="r-1" name="r" value=1
                 unchecked>
         <label for="r-1">1</label>
     </div>
     <div>
         <input type="checkbox" id="r-2" name="r" value=2
                unchecked>
         <label for="r-2">2</label>
     </div>
     <div>
         <input type="checkbox" id="r-3" name="r" value=3
                unchecked>
         <label for="r-3">3</label>
     </div>
     <div>
         <input type="checkbox" id="r-4" name="r" value=4
                unchecked>
         <label for="r-4">4</label>
     </div>
     <div>
         <input type="checkbox" id="r-5" name="r" value=5
                unchecked>
         <label for="r-5">5</label>
     </div>
     <div class="x-vals" id="x_vals">
         <p style="margin-top: 7%"><strong>X VALUE: </strong></p>
     <div class="radio">
         <input type="radio" id="x-val-1"
                name="x-val" value= -3>
         <label for="x-val-1">-3</label>

         <input type="radio" id="x-val-2"
                name="x-val" value= -2>
         <label for="x-val-2">-2</label>

         <input type="radio" id="x-val-3"
                name="x-val" value= -1>
         <label for="x-val-3">-1</label>

         <input type="radio" id="x-val-4"
                name="x-val" value= 0>
         <label for="x-val-4">0</label>

         <input type="radio" id="x-val-5"
                name="x-val" value= 1>
         <label for="x-val-5">1</label>

         <input type="radio" id="x-val-6"
                name="x-val" value= 2>
         <label for="x-val-6">2</label>

         <input type="radio" id="x-val-7"
                name="x-val" value= 3>
         <label for="x-val-7">3</label>

         <input type="radio" id="x-val-8"
                name="x-val" value= 4>
         <label for="x-val-8">4</label>

         <input type="radio" id="x-val-9"
                name="x-val" value= 5>
         <label for="x-val-9">5</label>
     </div>
     </div>
</div>
<br>
<div>
    <button class="sender" type="submit" id="sendButton">Send</button>
</div>
</form>

</body>
</html>